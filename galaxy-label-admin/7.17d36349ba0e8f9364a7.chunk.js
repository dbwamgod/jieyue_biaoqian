webpackJsonp([7],{268:function(t,e,a){"use strict";function i(t){c||a(338)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(284),o=a.n(n);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var r=a(340),d=a.n(r),c=!1,s=a(0),u=i,p=s(o.a,d.a,!1,u,"data-v-095965fc",null);p.options.__file="src\\views\\productManagement\\new_product.vue",e.default=p.exports},284:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(31),o=i(n),l=a(99),r=i(l),d=a(3),c=i(d);e.default={name:"new_product",data:function(){return{theme2:"light",formValidate:{productName:"",categoryName:"",queryParam:""},data3:[],title:[],out:[],select:[],style_active:{color:"#dddee1",cursor:"pointer",display:"inline-block",maxWidth:"80px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"14px"},formValidate_list:{},big_container:[],check_out:[],check_out_flag:!1,intermediateVariable:[]}},created:function(){this.init(),this.product_First_list()},methods:{oncanel:function(){this.$router.back(-1)},init:function(){var t=this;this.$axios({method:"get",url:r.default.product_getDetail_name_list()}).then(function(e){t.formValidate_list=e.data.data})},product_First_list:function(){var t=this;this.$axios({method:"get",url:r.default.product_First_list()}).then(function(e){200==e.data.code&&(t.data3=e.data.data.map(function(e,a){return{title:e.categoryName,id:e.id,loading:!1,children:[],expand:!1,type:1,render:function(a,i){return a("span",{style:{cursor:"pointer",display:"inline-block",maxWidth:"110px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"14px"},on:{click:function(){t.treeHandClick(i)}}},e.categoryName)}}}))})},treeHandClick:function(t){0==t.data.children.length?this.loadData(t.data,function(e){if(0==e.length||"[]"===(0,o.default)(e))return t.data.expand=!1;t.data.children=e,t.data.expand=!0}):t.data.expand=!t.data.expand},submit:function(){var t=this;this.title.map(function(e,a){return t.out.push(e.id)}),this.$axios({method:"post",url:r.default.product_add(),data:{productName:this.formValidate.productName,queryParam:this.formValidate.queryParam,categoryId:this.formValidate_list.id,outputParamIdList:this.out,userId:c.default.get("userId")}}).then(function(e){200==e.data.code?(t.out=[],t.formValidate={},t.title=[],t.init(),t.product_First_list(),t.$router.back(-1)):(t.out=[],t.$Message.info(e.data.msg))})},handleClose2:function(t,e){var a=this,i=void 0,n=void 0;this.title.map(function(t,a){t.title===e&&(i=a,n=e)}),this.check_out.length&&this.check_out.forEach(function(t,e){t.textContent===n&&a.title&&(a.check_out[e].style.color="#dddee1")}),this.title.splice(i,1),this.check_out_flag=!1},loadData:function(t,e){var a=this;1===t.type?this.$axios({method:"get",url:r.default.product_Second_list(t.id)}).then(function(t){if(200==t.data.code)if(0!==t.data.data.length){var i=t.data.data.map(function(t,e){return{title:t.categoryName||"",id:t.id||"",type:2,loading:!1,expand:!1,children:[],render:function(e,i){return e("span",{style:{cursor:"pointer",display:"inline-block",maxWidth:"110px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"14px"},on:{click:function(){a.treeHandClick(i)}}},t.categoryName)}}});e(i)}else{var n=t.data.data.map(function(t,e){return{title:t.categoryName||"",id:t.parentId||"",type:2}});e(n),a.$Message.info("没有数据")}}):2===t.type&&this.$axios({method:"post",url:r.default.queryLabels(),data:{form:{categoryId:t.id},pageIndex:0,pageSize:0}}).then(function(t){if(200==t.data.code)if(0!==t.data.data.length){var i=t.data.data.map(function(t,e){return{title:t.labelName||"",id:t.id||"",type:3,render:function(e,i){return e("span",{style:a.check_out_flag?{color:"#dddee1",display:"inline-block",maxWidth:"110px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"14px"}:{cursor:"pointer",display:"inline-block",maxWidth:"110px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"14px"},on:{click:function(t){a.big_container.push(t.path[0]),t.path[0].style.color="#9ea7b4",a.title.find(function(t){return t.labelId===i.data.id})||a.title.filter(function(t){return t.id===i.data.id})[0]||(a.title.push(i.data),a.check_out.push(t.path[0]))}}},t.labelName)}}});e(i)}else{var n=t.data.data.map(function(t,e){return{title:t.labelName||"",id:t.id||"",type:3}});e(n),a.$Message.info("没有数据")}})}}}},338:function(t,e,a){var i=a(339);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(9)("58ce09a0",i,!1)},339:function(t,e,a){e=t.exports=a(8)(!1),e.push([t.i,"\n.menu_product_list[data-v-095965fc] {\n    margin-top: 15%;\n    margin-left: 10%;\n}\n.new_product_fir[data-v-095965fc] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    margin: 30px 0 20px 0;\n}\n.container_label[data-v-095965fc] {\n    padding-left: 2px;\n    overflow-y: scroll;\n    height: 115px;\n    max-height: 200px;\n    border: 2px solid #dddee1;\n    border-radius: 4px;\n}\n.rules_container[data-v-095965fc] {\n    margin: 0 auto;\n}\n\n\n",""])},340:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container_box",attrs:{id:"container_box"}},[a("Row",{staticStyle:{position:"fixed",width:"8.5%",height:"100%",background:"#585b6d",color:"#dddee1",opacity:".7"}},[a("Col",{staticClass:"Col_product_new"},[a("Tree",{staticClass:"menu_product_list",attrs:{data:t.data3,"load-data":t.loadData,"on-select-change":"loadData"}})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"10%"}},[a("Row",[a("Col",[a("div",{staticClass:"new_product_fir"},[a("Form",{staticStyle:{flex:"0","padding-top":"10px","padding-left":"4.6%"},attrs:{model:t.formValidate}},[a("FormItem",{staticStyle:{float:"left",width:"360px"},attrs:{label:"产品名称",prop:"product_id"}},[a("Input",{staticStyle:{width:"230px"},attrs:{placeholder:"请输入产品名称"},model:{value:t.formValidate.productName,callback:function(e){t.$set(t.formValidate,"productName",e)},expression:"formValidate.productName"}})],1),t._v(" "),a("FormItem",{staticStyle:{float:"left",width:"360px"},attrs:{label:"产品类别",prop:"product_type"}},[a("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择产品类型"},model:{value:t.formValidate_list.id,callback:function(e){t.$set(t.formValidate_list,"id",e)},expression:"formValidate_list.id"}},t._l(t.formValidate_list,function(e,i){return a("Option",{key:i,attrs:{value:e.id?e.id:""}},[t._v("\n                                "+t._s(e.categoryName?e.categoryName:"")+"\n                            ")])}))],1)],1)],1)])],1),t._v(" "),a("Row",[a("Col",{staticStyle:{float:"left",width:"80px"},attrs:{offset:"1"}},[a("span",{staticStyle:{padding:"7px"}},[t._v("查询规则")])]),t._v(" "),a("Col",{attrs:{span:"18"}},[a("Form",{staticStyle:{display:"inline-block",width:"100%"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请输入查询规则"},model:{value:t.formValidate.queryParam,callback:function(e){t.$set(t.formValidate,"queryParam",e)},expression:"formValidate.queryParam"}})],1)],1)],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"40px"}},[a("Col",{staticStyle:{float:"left",width:"80px"},attrs:{offset:"1"}},[a("p",{staticStyle:{padding:"7px"}},[t._v("输出标签")])]),t._v(" "),a("Col",{attrs:{span:"18"}},[a("div",{ref:"container_label",staticClass:"container_label"},t._l(t.title,function(e,i){return a("Tag",{key:i,staticStyle:{background:"#dddee1",height:"40px","line-height":"40px",padding:"0 15px"},attrs:{name:e.title,closable:""},on:{"on-close":t.handleClose2}},[t._v(t._s(e.title)+"\n                ")])}))])],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"40px"}},[a("Col",{attrs:{span:"3",offset:"6"}},[a("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"10px"},on:{click:t.oncanel}},[t._v("返回")])],1)],1)],1)],1)},n=[];i._withStripped=!0;var o={render:i,staticRenderFns:n};e.default=o}});